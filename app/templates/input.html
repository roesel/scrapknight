<!-- extend from base layout -->
{% extends "base.html" %}

{% block content %}
<div class="col-md-3">
  <div class="panel panel-default">
    <div class="panel-heading"><strong>1) Input decklist</strong></div>
    <div class="panel-body">
      <form action="" method="post" name="input">
        {{ form.hidden_tag() }}
        <div class="form-group">
            <textarea class="form-control" name="text" rows="20">{{fill}}</textarea>
        </div>
        <input type="submit" name="submit" value="2) Look it up!" class="btn btn-primary pull-right">
      </form>
    </div>
  </div>
</div>
{% if results %}
<div class="col-md-2">
  <div class="panel panel-default">
    <div class="panel-heading">Card preview</div>
    <div class="panel-body">
        <img src="{{ url_for('static',filename='img/card_back.jpg') }}" id="card_pic" style="max-height: 310px; max-width: 223px; text-align: center; vertical-align: middle;" alt=""/>
    </div>
  </div>
</div>

<div class="col-md-4">
  <div class="panel panel-default">
    <div class="panel-heading"><strong>Output</strong></div>
    <div class="panel-body">
      <table class="table table-striped table-condensed">
        {% if results_header %}
            <thead>
            <tr>
            {% for heading in results_header %}
                <th> {{ heading }} </th>
            {% endfor %}
            </tr>
            </thead>
        {% endif %}
        <tbody>
        {% for row in results %}
            <tr>
                {% for cell in row %}
                    {% if loop.index == 1 %}
                        <td><span onmouseover="document.images.card_pic.src='http://cernyrytir.cz/images/kusovkymagic/{{cell['id']}}.jpg'">{{cell['name']}}</span></td>
                    {% elif loop.index == 2 %}
                        <td title="{{cell['name']}}">{{ cell['id'] }}</td>
                    {% else %}
                        <td>{{ cell }}</td>
                    {% endif %}

                {% endfor %}
            </tr>
        {% endfor %}
        </tbody>
        {% if results_footer %}
            <tfoot>
            {% for row in results_footer %}
                <tr
                {% if results_success %}
                    class = "success"
                {% else %}
                    class = "danger"
                {% endif %}
                >
                    {% for cell in row %}
                        <th> {{ cell }} </th>
                    {% endfor %}
                </tr>
            {% endfor %}
            </tr>
            </tfoot>
        {% endif %}
      </table>
    </div>
  </div>
</div>
{% else %}
<div class="col-md-8">
  <div class="panel panel-default">
    <div class="panel-heading"><strong>No input.</strong></div>
  </div>
</div>
{% endif %}



{% endblock %}
